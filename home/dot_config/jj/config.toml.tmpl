{{- if .dev_computer -}}
[user]
name = {{ .name | quote }}
email = {{ .email | quote }}

[ui]
# Use delta for diffs and paging (same as git config)
diff-formatter = ["delta", "--dark", "--line-numbers"]
pager = ["delta"]
paginate = "auto"

{{- if .personal }}
[signing]
behavior = "own"
backend = "ssh"
key = "~/.ssh/id_rsa.pub"
{{- end }}

[git]
# Auto-import git refs
auto-local-bookmark = true

[aliases]
# Common shortcuts
l = ["log", "-r", "@-10::@"]
s = ["status"]
d = ["diff"]
c = ["commit"]
n = ["new"]
e = ["edit"]
sq = ["squash"]
# Show operation log (for undo)
opl = ["op", "log"]
# Undo last operation
u = ["op", "undo"]

[revset-aliases]
# Useful revsets
"trunk()" = 'latest(remote_bookmarks(exact:"origin/main") | remote_bookmarks(exact:"origin/master"))'
"mine" = 'author(exact:"{{ .email }}")'
{{- end }}
