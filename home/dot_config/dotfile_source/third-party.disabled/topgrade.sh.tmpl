# Topgrade - upgrade everything
# Add topgrade paths - check common locations
for topgrade_path in "$HOME/.cargo/bin" "$HOME/.local/bin" "/opt/homebrew/bin" "/usr/local/bin"; do
    if [[ -f "$topgrade_path/topgrade" ]]; then
        path_add "$topgrade_path"
        break
    fi
done

# Shell completions for topgrade - only if topgrade is available
if command -v topgrade >/dev/null 2>&1; then
    if [[ -n ${ZSH_NAME} ]]; then
        eval "$(topgrade --gen-completion zsh)"
    elif [[ -n ${BASH} ]]; then
        # shellcheck disable=SC1090
        source <(topgrade --gen-completion bash)
    fi
fi