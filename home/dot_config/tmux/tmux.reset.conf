# Custom tmux key bindings - replaces default bindings with more intuitive ones
# First remove *all* keybindings
# unbind-key -a
# Now reinsert all the regular tmux keys

# System commands
bind ^X lock-server                                    # Lock tmux server
bind ^C new-window -c "$HOME"                          # Create new window in home directory
bind ^D detach                                         # Detach from session
bind * list-clients                                    # List connected clients

# Window navigation (better than default p/n)
bind H previous-window                                 # Go to previous window
bind L next-window                                     # Go to next window

# Window management
bind r command-prompt "rename-window %%"                                    # Rename current window
bind R source-file ~/.config/tmux/tmux.conf \; display "Config reloaded!"  # Reload tmux config
bind ^A last-window                                                          # Switch to last used window
bind ^W list-windows                                   # List all windows
bind w list-windows                                    # List all windows (alternative)
bind z resize-pane -Z                                  # Zoom/unzoom current pane

# Display refresh
bind ^L refresh-client                                 # Refresh tmux display
bind l refresh-client                                  # Refresh tmux display (alternative)

# Pane splitting (vim-like)
bind | split-window                                    # Split window vertically
bind s split-window -v -c "#{pane_current_path}"      # Split horizontally in current path
bind v split-window -h -c "#{pane_current_path}"      # Split vertically in current path
bind '"' choose-window                                 # Choose window from list

# Pane navigation (vim-like hjkl)
bind h select-pane -L                                  # Select left pane
bind j select-pane -D                                  # Select pane below
bind k select-pane -U                                  # Select pane above
bind l select-pane -R                                  # Select right pane

# Pane resizing (repeatable with -r flag)
bind -r -T prefix , resize-pane -L 20                 # Resize pane left by 20
bind -r -T prefix . resize-pane -R 20                 # Resize pane right by 20
bind -r -T prefix - resize-pane -D 7                  # Resize pane down by 7
bind -r -T prefix = resize-pane -U 7                  # Resize pane up by 7

# Utility commands
bind : command-prompt                                  # Enter command mode
bind * setw synchronize-panes                          # Toggle pane synchronization
bind P set pane-border-status                          # Toggle pane border status
bind c kill-pane                                       # Kill current pane
bind x swap-pane -D                                    # Swap current pane down
bind S choose-session                                  # Choose session from list
bind K send-keys "clear"\; send-keys "Enter"          # Clear screen and send enter

# Copy mode bindings
bind-key -T copy-mode-vi v send-keys -X begin-selection  # Start visual selection in copy mode